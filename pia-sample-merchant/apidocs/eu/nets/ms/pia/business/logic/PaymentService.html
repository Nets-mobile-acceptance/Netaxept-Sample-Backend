<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_222) on Wed Jun 24 12:15:19 UTC 2020 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>PaymentService (pia merchant service 2.0.0 API)</title>
<meta name="date" content="2020-06-24">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PaymentService (pia merchant service 2.0.0 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PaymentService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../eu/nets/ms/pia/business/logic/OrderServiceImpl.html" title="class in eu.nets.ms.pia.business.logic"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../eu/nets/ms/pia/business/logic/PaymentServiceImpl.html" title="class in eu.nets.ms.pia.business.logic"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?eu/nets/ms/pia/business/logic/PaymentService.html" target="_top">Frames</a></li>
<li><a href="PaymentService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">eu.nets.ms.pia.business.logic</div>
<h2 title="Interface PaymentService" class="title">Interface PaymentService</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../../eu/nets/ms/pia/business/logic/PaymentServiceImpl.html" title="class in eu.nets.ms.pia.business.logic">PaymentServiceImpl</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">PaymentService</span></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../eu/nets/ms/pia/business/logic/PaymentService.html#deletePayment-java.lang.String-java.lang.String-">deletePayment</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;paymentId,
             <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;merchantId)</code>
<div class="block">Delete payment.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../eu/nets/ms/pia/service/model/PaymentMethods.html" title="class in eu.nets.ms.pia.service.model">PaymentMethods</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../eu/nets/ms/pia/business/logic/PaymentService.html#getPaymentMethods-java.lang.String-">getPaymentMethods</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;consumerId)</code>
<div class="block">Gets the payment methods.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../../../eu/nets/ms/pia/service/model/PaymentProcessResponse.html" title="class in eu.nets.ms.pia.service.model">PaymentProcessResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../eu/nets/ms/pia/business/logic/PaymentService.html#process-java.lang.String-java.lang.String-">process</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;paymentId,
       <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;merchantId)</code>
<div class="block">Process.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../eu/nets/ms/pia/service/model/PaymentRegisterResponse.html" title="class in eu.nets.ms.pia.service.model">PaymentRegisterResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../eu/nets/ms/pia/business/logic/PaymentService.html#register-eu.nets.ms.pia.service.model.PaymentRegisterRequest-java.lang.String-">register</a></span>(<a href="../../../../../../eu/nets/ms/pia/service/model/PaymentRegisterRequest.html" title="class in eu.nets.ms.pia.service.model">PaymentRegisterRequest</a>&nbsp;request,
        <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;remoteHost)</code>
<div class="block">
 Register.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../../../eu/nets/ms/pia/service/model/PaymentProcessResponse.html" title="class in eu.nets.ms.pia.service.model">PaymentProcessResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../eu/nets/ms/pia/business/logic/PaymentService.html#verify-java.lang.String-java.lang.String-">verify</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;paymentId,
      <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;merchantId)</code>
<div class="block">Verify.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="register-eu.nets.ms.pia.service.model.PaymentRegisterRequest-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>register</h4>
<pre><a href="../../../../../../eu/nets/ms/pia/service/model/PaymentRegisterResponse.html" title="class in eu.nets.ms.pia.service.model">PaymentRegisterResponse</a>&nbsp;register(<a href="../../../../../../eu/nets/ms/pia/service/model/PaymentRegisterRequest.html" title="class in eu.nets.ms.pia.service.model">PaymentRegisterRequest</a>&nbsp;request,
                                 <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;remoteHost)
                          throws <a href="../../../../../../eu/nets/ms/pia/exception/BusinessServiceException.html" title="class in eu.nets.ms.pia.exception">BusinessServiceException</a></pre>
<div class="block"><pre>
 Register.
 Two main flows can be started by a call to register.
 
 1) Register card for future use. 
    This is defined by the amount being zero.
    
 2) Payment
    For payments three subflows are defined
    a) Payment via card. Here you can also select to store this card for future use, 
       The store option is available for non-anonymous consumers.
    
    b) Payment via a previously stored card.
       This requires for the consumer to be identified so that the a card token for that consumer
       can be retrieved.
       
    c) Same as b above with the difference that no security code or 3DS will be required.
       This is the fastest payment option with the least amount of consumer interaction.
       The flagging of this option is defined on a per consumer basis and is not something
       the consumer can decide at register time. The enabling of this option should be done
       based on on a risk assessment.  
 
 3) Apple Pay
        Pre-requisite:
                a)      You have integrated towards Apple Pay for web or app (https://developer.apple.com/library/content/ApplePay_Guide/)
 
                b)      You have integrated towards Netaxept via API (https://shop.nets.eu/partners)

                c)      You have an agreement with an acquirer to accept card payments and use the Apple Pay service

  For Apple Pay – Netaxept works as a payment processor. The card data (token) is provided to the merchant
  from Apple, and then passed by the Merchant to Netaxept. This enables server-to-server communication
  towards Netaxept – no redirect of consumer to Netaxept is required, providing a seamless experience on
  for example mobile devices.
 
        Apple Pay is available in both our production (https://epayment.nets.eu) and test environment
        (https://test.epayment.nets.eu). Apple Pay is not available in any of our terminals – which is why you need
        to create the payment request towards Apple and add the Apple Pay-button on your own site or mobile app.
 
        Register Call:
        The paymentMethodActionList-parameter should specify ApplePay
                The parameter service type should be to 'M'
                The parameter PaymentData should be added and contain the encrypted Payment Data from Apple Pay in Json, 
                {"paymentData":{"version":"EC_v1","data":"4………….}
 
 4) Paypal
        a)      You need to enter your PayPal credentials in the agreements tab under the Options menu. 
        You can also set up an account if needed from the same place, through a guide which will help you set up a new account 
        in a few minutes and accepting payments almost instantly. Also note that you need to set up PayPal with the correct currency or currencies.

        b)      Make sure to complete the register API call with the necessary customerCountry parameter. This parameter should follow the Alpha 2 part of
        the ISO 3166-1 standard. For instance, the Nets countries are NO, SE, FI and DK.

        c)      If you set Paypal as value in the REGISTER's payment method list and set service type to 'B', the customer will automatically be forwarded to Paypal's own payment page. 
        If payment method list has no value, Paypal will be listed among other payment alternatives in the Netaxept terminal webpage.

        d)      After the end user returns from the PayPal page, you can use financial process calls (AUTH, ANULL, CAPTURE, SALE, CREDIT) as 
        you would for a regular card-based transaction.
       
 Important:
 The redirect URLs.
 They are used by the mobile SDK during the terminal phase to identify the success of that.
 If the terminal gets redirected to a different URL than the two provided by this response, this
 indicated a 3DS redirection to the card issuer.      
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - the request</dd>
<dd><code>remoteHost</code> - the remote host</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the payment register response</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../eu/nets/ms/pia/exception/BusinessServiceException.html" title="class in eu.nets.ms.pia.exception">BusinessServiceException</a></code> - the business service exception</dd>
</dl>
</li>
</ul>
<a name="process-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>process</h4>
<pre><a href="../../../../../../eu/nets/ms/pia/service/model/PaymentProcessResponse.html" title="class in eu.nets.ms.pia.service.model">PaymentProcessResponse</a>&nbsp;process(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;paymentId,
                               <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;merchantId)
                        throws <a href="../../../../../../eu/nets/ms/pia/exception/BusinessServiceException.html" title="class in eu.nets.ms.pia.exception">BusinessServiceException</a></pre>
<div class="block">Process.
 <pre>
 Issues an Authorization request toward the payment service provider.
 If this succeeds:
      1) Store the card token, if that option was available and selected during Init.
      2) Place the Order to the mocked order service.
      
 If the order is successfully processed:
      1) Capture the reserved amount by calling the payment service provider capture
      
 If the order processing fails:
      2) Reverse the authorization to free the reserved amount
 
 To be noticed, Authorization ID is NOT required for Paypal, but required for card payment.
 
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>paymentId</code> - the payment id</dd>
<dd><code>merchantId</code> - Id of the Netaxept account to use if this demo application is connected to several test accounts</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the payment process response</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../eu/nets/ms/pia/exception/BusinessServiceException.html" title="class in eu.nets.ms.pia.exception">BusinessServiceException</a></code> - the business service exception</dd>
</dl>
</li>
</ul>
<a name="deletePayment-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deletePayment</h4>
<pre>void&nbsp;deletePayment(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;paymentId,
                   <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;merchantId)
            throws <a href="../../../../../../eu/nets/ms/pia/exception/BusinessServiceException.html" title="class in eu.nets.ms.pia.exception">BusinessServiceException</a></pre>
<div class="block">Delete payment.
 <pre>
 Nothing implemented yet
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>paymentId</code> - the payment id</dd>
<dd><code>merchantId</code> - Id of the Netaxept account to use if this demo application is connected to several test accounts</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../eu/nets/ms/pia/exception/BusinessServiceException.html" title="class in eu.nets.ms.pia.exception">BusinessServiceException</a></code> - the business service exception</dd>
</dl>
</li>
</ul>
<a name="verify-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verify</h4>
<pre><a href="../../../../../../eu/nets/ms/pia/service/model/PaymentProcessResponse.html" title="class in eu.nets.ms.pia.service.model">PaymentProcessResponse</a>&nbsp;verify(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;paymentId,
                              <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;merchantId)
                       throws <a href="../../../../../../eu/nets/ms/pia/exception/BusinessServiceException.html" title="class in eu.nets.ms.pia.exception">BusinessServiceException</a></pre>
<div class="block">Verify.
 <pre>
 This method will be used in the case where a consumer wishes to register a card for future purchases
 without performing a purchase.
 
 During initialization of a transaction using "register", the amount will be set to zero.
 The purpose of this method is to verify that a card that has been tokenized is actually 
 Usable.
 
 An authorization request with VERIFY will be issued to the payment service provider.
 
 Upon successful verification the card  token is stored to the consumer thereby
 enabling future payments using this token.
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>paymentId</code> - the payment id</dd>
<dd><code>merchantId</code> - Id of the Netaxept account to use if this demo application is connected to several test accounts</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the payment process response</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../eu/nets/ms/pia/exception/BusinessServiceException.html" title="class in eu.nets.ms.pia.exception">BusinessServiceException</a></code> - the business service exception</dd>
</dl>
</li>
</ul>
<a name="getPaymentMethods-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getPaymentMethods</h4>
<pre><a href="../../../../../../eu/nets/ms/pia/service/model/PaymentMethods.html" title="class in eu.nets.ms.pia.service.model">PaymentMethods</a>&nbsp;getPaymentMethods(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;consumerId)
                          throws <a href="../../../../../../eu/nets/ms/pia/exception/BusinessServiceException.html" title="class in eu.nets.ms.pia.exception">BusinessServiceException</a></pre>
<div class="block">Gets the payment methods.
 <pre>
 This method lists the supported payment methods. This is a subset of the methods supported by the payment service provider
 If the payment is initiated by a registered consumer, this list can also contain payments via 
 a previously stored card token. 
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>consumerId</code> - the consumer id</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the payment methods</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../eu/nets/ms/pia/exception/BusinessServiceException.html" title="class in eu.nets.ms.pia.exception">BusinessServiceException</a></code> - the business service exception</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PaymentService.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../eu/nets/ms/pia/business/logic/OrderServiceImpl.html" title="class in eu.nets.ms.pia.business.logic"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../eu/nets/ms/pia/business/logic/PaymentServiceImpl.html" title="class in eu.nets.ms.pia.business.logic"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?eu/nets/ms/pia/business/logic/PaymentService.html" target="_top">Frames</a></li>
<li><a href="PaymentService.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2020 <a href="http://www.spring.io">Pivotal Software, Inc.</a>. All rights reserved.</small></p>
</body>
</html>
